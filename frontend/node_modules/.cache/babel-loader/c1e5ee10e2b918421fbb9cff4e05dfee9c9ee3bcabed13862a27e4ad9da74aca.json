{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import AdminHeader from'../../components/layout/AdminHeader';import AdminItemModal from'../../components/items/AdminItemModal';// New Modal Component\nimport'./AdminDashboard.css';// --- UTILITIES & MOCK DATA (Same as AllPosts) ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CATEGORIES=['Electronics','Stationery','Books','Clothing','Personal Items','Others'];// ðŸ›‘ BACKEND PLACEHOLDER: API URLS\nconst ITEMS_API_URL='http://localhost:3000/api/items';const APPROVE_API_URL='http://localhost:3000/api/admin/approve-item';const DELETE_API_URL='http://localhost:3000/api/admin/items';// Utility function to format timestamp from Firestore\nconst formatTimestamp=timestamp=>{// 1. Handle null, undefined, or N/A\nif(!timestamp){return'N/A';}let dateObject;// Check for SERIALIZED Firebase Timestamp (Most common for API response)\nif(typeof timestamp==='object'&&timestamp._seconds){// Data is a plain JSON object like { _seconds: X, _nanoseconds: Y }\n// Manually convert the seconds property to milliseconds for the Date constructor\ndateObject=new Date(timestamp._seconds*1000);}// If conversion was successful, format the date\nelse{// If none of the above, return N/A\nreturn'N/A';}// Return the formatted date string\nreturn dateObject.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const AdminDashboard=()=>{// State for filtering\nconst[statusFilter,setStatusFilter]=useState('lost');// Default: Lost\nconst[categoryFilter,setCategoryFilter]=useState('');// Default: All\nconst[approvalFilter,setApprovalFilter]=useState('pending');// ðŸ›‘ NEW: Default to Pending\nconst[items,setItems]=useState([]);const[isLoading,setIsLoading]=useState(false);const[selectedItem,setSelectedItem]=useState(null);const[refreshTrigger,setRefreshTrigger]=useState(0);// ðŸ›‘ BACKEND PLACEHOLDER: Auth context\nconst{token}=useAuth();const fetchItems=async()=>{setIsLoading(true);// Ensure token is available for the API call\nif(!token){console.error(\"Token missing. Cannot fetch items securely.\");setItems([]);setIsLoading(false);return;}try{// ðŸ›‘ API CALL 1: Fetch filtered items\n// NOTE: The current backend /api/items filters only by status and category.\n// We fetch all and perform the isApproved filter on the frontend for now \n// until the backend is updated to support isApproved query parameter.\nconst response=await axios.get(ITEMS_API_URL,{params:{status:statusFilter,category:categoryFilter||undefined,approvalStatus:approvalFilter},headers:{Authorization:\"Bearer \".concat(token)}});// The data received is assumed to be pre-filtered by the backend\nsetItems(response.data);}catch(error){var _error$response,_error$response$data;console.error(\"Admin fetch failed:\",((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);// On API failure, simply clear items and display the error message\nsetItems([]);}finally{setIsLoading(false);}};useEffect(()=>{fetchItems();},[statusFilter,categoryFilter,approvalFilter,token,refreshTrigger]);// Dependencies are correct\n// ðŸ›‘ ACTION HANDLERS (Approve/Reject/Delete) - INTEGRATED WITH BACKEND\nconst handleAction=async(itemId,actionType)=>{if(!token){alert(\"Error: Not authenticated. Cannot perform action.\");return;}let endpoint='';let method='';let successMessage='';try{if(actionType==='approve'){// Calls POST /api/admin/approve-item/:itemId\nendpoint=\"\".concat(APPROVE_API_URL,\"/\").concat(itemId);method='POST';successMessage='Approved successfully! Post is now visible.';}else if(actionType==='reject'||actionType==='delete'){// Reject (Pending) and Delete (Approved) both call DELETE /api/admin/items/:itemId\nendpoint=\"\".concat(DELETE_API_URL,\"/\").concat(itemId);method='DELETE';successMessage='Post deleted permanently!';}else{return;}// ðŸ›‘ API CALL 2/3: Execute the action\nconst response=await axios({method:method,url:endpoint,headers:{Authorization:\"Bearer \".concat(token)}});// After successful action, close modal, and refresh data\nsetSelectedItem(null);alert(successMessage);//setSuccessActionType(actionType === 'approve' ? 'approve' : 'delete');\n//setShowSuccessModal(true);\n// Force refresh of the items list after a short delay\nsetRefreshTrigger(prev=>prev+1);}catch(error){var _error$response2,_error$response3,_error$response3$data;console.error(\"Action \".concat(actionType,\" failed:\"),((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);alert(\"Action failed: \".concat(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Server error.'));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard-page\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"admin-main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-control-bar\",children:[/*#__PURE__*/_jsxs(\"select\",{value:categoryFilter,onChange:e=>setCategoryFilter(e.target.value),className:\"admin-dropdown category-dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),CATEGORIES.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),/*#__PURE__*/_jsxs(\"select\",{value:approvalFilter,onChange:e=>setApprovalFilter(e.target.value),className:\"admin-dropdown approval-dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending Approval\"}),/*#__PURE__*/_jsx(\"option\",{value:\"approved\",children:\"Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-toggle-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStatusFilter('lost'),className:\"status-button \".concat(statusFilter==='lost'?'active-status':''),children:\"Lost Item\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStatusFilter('found'),className:\"status-button \".concat(statusFilter==='found'?'active-status':''),children:\"Found Item\"})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading Admin Items...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"item-grid-container\",children:items.length>0?items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"item-card\",onClick:()=>setSelectedItem(item),children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.name,className:\"item-photo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",item.isApproved?'Approved':'Pending']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Reported: \",formatTimestamp(item.dateReported)]})]})]},item.id)):/*#__PURE__*/_jsxs(\"p\",{className:\"no-items-message\",children:[\"No \",approvalFilter,\" \",statusFilter,\" items found.\"]})})]}),/*#__PURE__*/_jsx(AdminItemModal,{item:selectedItem,onClose:()=>setSelectedItem(null),onAction:handleAction// Pass the handler down\n})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","useAuth","AdminHeader","AdminItemModal","jsx","_jsx","jsxs","_jsxs","CATEGORIES","ITEMS_API_URL","APPROVE_API_URL","DELETE_API_URL","formatTimestamp","timestamp","dateObject","_seconds","Date","toLocaleDateString","year","month","day","AdminDashboard","statusFilter","setStatusFilter","categoryFilter","setCategoryFilter","approvalFilter","setApprovalFilter","items","setItems","isLoading","setIsLoading","selectedItem","setSelectedItem","refreshTrigger","setRefreshTrigger","token","fetchItems","console","error","response","get","params","status","category","undefined","approvalStatus","headers","Authorization","concat","data","_error$response","_error$response$data","message","handleAction","itemId","actionType","alert","endpoint","method","successMessage","url","prev","_error$response2","_error$response3","_error$response3$data","className","children","value","onChange","e","target","map","cat","onClick","length","item","src","imageUrl","alt","name","isApproved","dateReported","id","onClose","onAction"],"sources":["C:/Users/User/Documents/lostnfound_fullstack/frontend/src/pages/admin/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'; \r\nimport { Link, useNavigate } from 'react-router-dom'; \r\nimport { useAuth } from '../../context/AuthContext';\r\nimport AdminHeader from '../../components/layout/AdminHeader';\r\nimport AdminItemModal from '../../components/items/AdminItemModal'; // New Modal Component\r\nimport './AdminDashboard.css';\r\n\r\n// --- UTILITIES & MOCK DATA (Same as AllPosts) ---\r\nconst CATEGORIES = ['Electronics', 'Stationery', 'Books', 'Clothing', 'Personal Items', 'Others'];\r\n// ðŸ›‘ BACKEND PLACEHOLDER: API URLS\r\nconst ITEMS_API_URL = 'http://localhost:3000/api/items'; \r\nconst APPROVE_API_URL = 'http://localhost:3000/api/admin/approve-item'; \r\nconst DELETE_API_URL = 'http://localhost:3000/api/admin/items'; \r\n\r\n// Utility function to format timestamp from Firestore\r\nconst formatTimestamp = (timestamp) => {\r\n    // 1. Handle null, undefined, or N/A\r\n    if (!timestamp) {\r\n        return 'N/A';\r\n    }\r\n    let dateObject;\r\n    // Check for SERIALIZED Firebase Timestamp (Most common for API response)\r\n    if (typeof timestamp === 'object' && timestamp._seconds) {\r\n        // Data is a plain JSON object like { _seconds: X, _nanoseconds: Y }\r\n        // Manually convert the seconds property to milliseconds for the Date constructor\r\n        dateObject = new Date(timestamp._seconds * 1000); \r\n    }\r\n    // If conversion was successful, format the date\r\n    else {\r\n        // If none of the above, return N/A\r\n        return 'N/A';\r\n    }\r\n    // Return the formatted date string\r\n    return dateObject.toLocaleDateString('en-US', { \r\n        year: 'numeric', \r\n        month: 'short', \r\n        day: 'numeric' \r\n    });\r\n};\r\n\r\n\r\nconst AdminDashboard = () => {\r\n    // State for filtering\r\n    const [statusFilter, setStatusFilter] = useState('lost'); // Default: Lost\r\n    const [categoryFilter, setCategoryFilter] = useState(''); // Default: All\r\n    const [approvalFilter, setApprovalFilter] = useState('pending'); // ðŸ›‘ NEW: Default to Pending\r\n    const [items, setItems] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [selectedItem, setSelectedItem] = useState(null); \r\n    const [refreshTrigger, setRefreshTrigger] = useState(0);\r\n    \r\n    // ðŸ›‘ BACKEND PLACEHOLDER: Auth context\r\n    const { token } = useAuth();\r\n\r\n    const fetchItems = async () => {\r\n        setIsLoading(true);\r\n        // Ensure token is available for the API call\r\n        if (!token) {\r\n            console.error(\"Token missing. Cannot fetch items securely.\");\r\n            setItems([]);\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n\r\n    try {\r\n            // ðŸ›‘ API CALL 1: Fetch filtered items\r\n            // NOTE: The current backend /api/items filters only by status and category.\r\n            // We fetch all and perform the isApproved filter on the frontend for now \r\n            // until the backend is updated to support isApproved query parameter.\r\n            const response = await axios.get(ITEMS_API_URL, {\r\n                params: { \r\n                    status: statusFilter, \r\n                    category: categoryFilter || undefined, \r\n                    approvalStatus: approvalFilter\r\n                },\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n\r\n            // The data received is assumed to be pre-filtered by the backend\r\n            setItems(response.data); \r\n\r\n        } catch (error) {\r\n            console.error(\"Admin fetch failed:\", error.response?.data?.message || error.message);\r\n            // On API failure, simply clear items and display the error message\r\n            setItems([]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchItems();\r\n    }, [statusFilter, categoryFilter, approvalFilter , token, refreshTrigger ]); // Dependencies are correct\r\n\r\n\r\n    // ðŸ›‘ ACTION HANDLERS (Approve/Reject/Delete) - INTEGRATED WITH BACKEND\r\n    const handleAction = async (itemId, actionType) => {\r\n        if (!token) {\r\n            alert(\"Error: Not authenticated. Cannot perform action.\");\r\n            return;\r\n        }\r\n\r\n        let endpoint = '';\r\n        let method = '';\r\n        let successMessage = '';\r\n\r\n        try {\r\n            if (actionType === 'approve') {\r\n                // Calls POST /api/admin/approve-item/:itemId\r\n                endpoint = `${APPROVE_API_URL}/${itemId}`;\r\n                method = 'POST';\r\n                successMessage = 'Approved successfully! Post is now visible.';\r\n            } else if (actionType === 'reject' || actionType === 'delete') {\r\n                // Reject (Pending) and Delete (Approved) both call DELETE /api/admin/items/:itemId\r\n                endpoint = `${DELETE_API_URL}/${itemId}`;\r\n                method = 'DELETE';\r\n                successMessage = 'Post deleted permanently!';\r\n            } else {\r\n                return;\r\n            }\r\n\r\n            // ðŸ›‘ API CALL 2/3: Execute the action\r\n            const response = await axios({\r\n                method: method,\r\n                url: endpoint,\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n\r\n            // After successful action, close modal, and refresh data\r\n            setSelectedItem(null); \r\n            alert(successMessage);\r\n            //setSuccessActionType(actionType === 'approve' ? 'approve' : 'delete');\r\n            //setShowSuccessModal(true);\r\n            // Force refresh of the items list after a short delay\r\n            setRefreshTrigger(prev => prev + 1);          \r\n        } catch (error) {\r\n            console.error(`Action ${actionType} failed:`, error.response?.data || error.message);\r\n            alert(`Action failed: ${error.response?.data?.message || 'Server error.'}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"admin-dashboard-page\">\r\n            <AdminHeader /> \r\n            \r\n            <main className=\"admin-main-content\">\r\n                \r\n                {/* --- Control Bar: Filters --- */}\r\n                <div className=\"admin-control-bar\">\r\n                    \r\n                    {/* 1. Category Dropdown (Same size as when shrunk) */}\r\n                    <select \r\n                        value={categoryFilter} \r\n                        onChange={(e) => setCategoryFilter(e.target.value)} \r\n                        className=\"admin-dropdown category-dropdown\"\r\n                    >\r\n                        <option value=\"\">All Categories</option>\r\n                        {CATEGORIES.map(cat => <option key={cat} value={cat}>{cat}</option>)}\r\n                    </select>\r\n\r\n                    {/* 2. Approval Status Dropdown (Default Pending) */}\r\n                    <select \r\n                        value={approvalFilter} \r\n                        onChange={(e) => setApprovalFilter(e.target.value)} \r\n                        className=\"admin-dropdown approval-dropdown\"\r\n                    >\r\n                        <option value=\"pending\">Pending Approval</option>\r\n                        <option value=\"approved\">Approved</option>\r\n                    </select>\r\n\r\n                    {/* 3. Status Toggle Buttons (Lost/Found) */}\r\n                    <div className=\"status-toggle-group\">\r\n                        <button \r\n                            onClick={() => setStatusFilter('lost')}\r\n                            className={`status-button ${statusFilter === 'lost' ? 'active-status' : ''}`}\r\n                        >\r\n                            Lost Item\r\n                        </button>\r\n                        <button \r\n                            onClick={() => setStatusFilter('found')}\r\n                            className={`status-button ${statusFilter === 'found' ? 'active-status' : ''}`}\r\n                        >\r\n                            Found Item\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Item Grid */}\r\n                {isLoading ? (\r\n                    <div className=\"loading-state\">Loading Admin Items...</div>\r\n                ) : (\r\n                    <div className=\"item-grid-container\">\r\n                        {items.length > 0 ? (\r\n                            items.map(item => (\r\n                                <div key={item.id} className=\"item-card\" onClick={() => setSelectedItem(item)}>\r\n                                    <img src={item.imageUrl} alt={item.name} className=\"item-photo\" />\r\n                                    <div className=\"item-info\">\r\n                                        <h3>{item.name}</h3>\r\n                                        <p>Status: {item.isApproved ? 'Approved' : 'Pending'}</p>\r\n                                        <p>Reported: {formatTimestamp(item.dateReported)}</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <p className=\"no-items-message\">No {approvalFilter} {statusFilter} items found.</p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </main>\r\n\r\n            {/* Admin Action Modal */}\r\n            <AdminItemModal \r\n                item={selectedItem} \r\n                onClose={() =>\r\n                    setSelectedItem(null)}\r\n                onAction={handleAction} // Pass the handler down\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}