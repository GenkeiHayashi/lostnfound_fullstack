{"ast":null,"code":"import React from'react';import'./ItemDetailsModal.css';// Utility function to format timestamp (copied here for standalone testing)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const formatTimestamp=timestamp=>{// 1. Handle null, undefined, or N/A\nif(!timestamp){return'N/A';}let dateObject;// Check for SERIALIZED Firebase Timestamp (Most common for API response)\nif(typeof timestamp==='object'&&timestamp._seconds){// Data is a plain JSON object like { _seconds: X, _nanoseconds: Y }\n// Manually convert the seconds property to milliseconds for the Date constructor\ndateObject=new Date(timestamp._seconds*1000);}// If conversion was successful, format the date\nelse{// If none of the above, return N/A\nreturn'N/A';}// Return the formatted date string\nreturn dateObject.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const ItemDetailsModal=_ref=>{let{item,onClose}=_ref;if(!item)return null;// --- Dynamic Location Field Logic ---\nlet locationDetailComponent;if(item.status==='lost'){// STRUCTURE FOR LOST ITEM\nlocationDetailComponent=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Seen Location:\"}),\" \",item.lastSeenLocation||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",item.description||'N/A']})]});}else if(item.status==='found'){// STRUCTURE FOR FOUND ITEM (Adds Item Collect Location)\nlocationDetailComponent=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Seen Location:\"}),\" \",item.lastSeenLocation||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Item Collect Location:\"}),\" \",item.whereToCollect||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",item.description||'N/A']})]});}return(/*#__PURE__*/// The modal wrapper handles the transparent background and closes on outside click\n_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:item.status==='lost'?'Lost Item Details':'Found Item Details'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl||'https://via.placeholder.com/300x200?Text=No+Image',alt:item.name,className:\"modal-item-image\"}),/*#__PURE__*/_jsx(\"span\",{className:\"image-label\",children:\"Image Preview (imageUrl from firebase)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-details-list\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Item Name:\"}),\" \",item.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",item.category]}),locationDetailComponent,/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date Reported:\"}),\" \",formatTimestamp(item.dateReported)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"back-button\",children:\"Back\"})})]})}));};export default ItemDetailsModal;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","formatTimestamp","timestamp","dateObject","_seconds","Date","toLocaleDateString","year","month","day","ItemDetailsModal","_ref","item","onClose","locationDetailComponent","status","children","lastSeenLocation","description","whereToCollect","className","onClick","e","stopPropagation","src","imageUrl","alt","name","category","dateReported"],"sources":["C:/Users/User/Documents/lostnfound_fullstack/frontend/src/components/items/ItemDetailsModal.js"],"sourcesContent":["import React from 'react';\r\nimport './ItemDetailsModal.css'; \r\n\r\n// Utility function to format timestamp (copied here for standalone testing)\r\nconst formatTimestamp = (timestamp) => {\r\n    // 1. Handle null, undefined, or N/A\r\n    if (!timestamp) {\r\n        return 'N/A';\r\n    }\r\n    let dateObject;\r\n    // Check for SERIALIZED Firebase Timestamp (Most common for API response)\r\n    if (typeof timestamp === 'object' && timestamp._seconds) {\r\n        // Data is a plain JSON object like { _seconds: X, _nanoseconds: Y }\r\n        // Manually convert the seconds property to milliseconds for the Date constructor\r\n        dateObject = new Date(timestamp._seconds * 1000); \r\n    }\r\n    // If conversion was successful, format the date\r\n    else {\r\n        // If none of the above, return N/A\r\n        return 'N/A';\r\n    }\r\n    // Return the formatted date string\r\n    return dateObject.toLocaleDateString('en-US', { \r\n        year: 'numeric', \r\n        month: 'short', \r\n        day: 'numeric' \r\n    });\r\n};\r\n\r\n\r\nconst ItemDetailsModal = ({ item, onClose }) => {\r\n    if (!item) return null;\r\n\r\n    // --- Dynamic Location Field Logic ---\r\n    let locationDetailComponent;\r\n    \r\n    if (item.status === 'lost') {\r\n        // STRUCTURE FOR LOST ITEM\r\n        locationDetailComponent = (\r\n            <>\r\n                <p><strong>Last Seen Location:</strong> {item.lastSeenLocation || 'N/A'}</p>\r\n                <p><strong>Description:</strong> {item.description || 'N/A'}</p>\r\n            </>\r\n        );\r\n    } else if (item.status === 'found') {\r\n        // STRUCTURE FOR FOUND ITEM (Adds Item Collect Location)\r\n        locationDetailComponent = (\r\n            <>\r\n                <p><strong>Last Seen Location:</strong> {item.lastSeenLocation || 'N/A'}</p>\r\n                <p><strong>Item Collect Location:</strong> {item.whereToCollect || 'N/A'}</p>\r\n                <p><strong>Description:</strong> {item.description || 'N/A'}</p>\r\n            </>\r\n        );\r\n    }\r\n    \r\n    return (\r\n        // The modal wrapper handles the transparent background and closes on outside click\r\n        <div className=\"modal-overlay\" onClick={onClose}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                \r\n                <div className=\"modal-header\">\r\n                    <h2>{item.status === 'lost' ? 'Lost Item Details' : 'Found Item Details'}</h2>\r\n                </div>\r\n\r\n                <div className=\"modal-body-grid\">\r\n                    {/* Left Side: Image */}\r\n                    <div className=\"modal-image-container\">\r\n                        <img \r\n                            src={item.imageUrl || 'https://via.placeholder.com/300x200?Text=No+Image'} \r\n                            alt={item.name} \r\n                            className=\"modal-item-image\"\r\n                        />\r\n                        <span className=\"image-label\">Image Preview (imageUrl from firebase)</span>\r\n                    </div>\r\n\r\n                    {/* Right Side: Details */}\r\n                    <div className=\"modal-details-list\">\r\n                        <p><strong>Item Name:</strong> {item.name}</p>\r\n                        <p><strong>Category:</strong> {item.category}</p>\r\n                        \r\n                        {/* Dynamic Location and Description Details */}\r\n                        {locationDetailComponent}\r\n                        \r\n                        <p><strong>Date Reported:</strong> {formatTimestamp(item.dateReported)}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"modal-footer\">\r\n                    <button onClick={onClose} className=\"back-button\">Back</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ItemDetailsModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}