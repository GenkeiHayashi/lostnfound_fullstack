{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{useAuth}from'../../context/AuthContext';// Crucial for calling login()\nimport'./LoginPage.css';// Import the dedicated CSS file\nimport UserIcon from'../../assets/user.png';// Assuming you save the image here\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{// State to manage form inputs\nconst[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[error,setError]=useState('');// Get login function and loading state from context\nconst{login,isLoading,user,role}=useAuth();const navigate=useNavigate();// Function to handle form submission and authentication\nconst handleSubmit=async e=>{e.preventDefault();setError('');if(!email||!password){setError('Please enter both email and password.');return;}// Call the login function from AuthContext (which will handle the backend/simulation check)\n// If login returns true (success), navigate. If it returns a string, it's an error message.\nconst result=await login(email,password);if(result===true){if(role==='admin'){navigate('/admin',{replace:true});}else{navigate('/posts',{replace:true});}}else{// FAILURE: result contains the error message string\nsetError(result);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-page-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:UserIcon,alt:\"User Icon\",className:\"user-logo-image\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"login-header\",children:\"Login Portal\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"login-error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"login-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"login-input\",placeholder:\"Your university or personal email\",value:email,onChange:e=>setEmail(e.target.value),required:true,disabled:isLoading}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"login-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',id:\"password\",className:\"login-input\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true,disabled:isLoading}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-toggle\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"showPassword\",checked:showPassword,onChange:()=>setShowPassword(!showPassword),disabled:isLoading}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"showPassword\",children:\"Show Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",disabled:isLoading,children:isLoading?'Verifying...':'Log In'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-links-container\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"signup-link-text\",children:[\"Not yet have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"link-style\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"link-style forgot-password-link\",children:\"Forgot Password?\"})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","Link","useAuth","UserIcon","jsx","_jsx","jsxs","_jsxs","LoginPage","email","setEmail","password","setPassword","showPassword","setShowPassword","error","setError","login","isLoading","user","role","navigate","handleSubmit","e","preventDefault","result","replace","className","children","src","alt","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","required","disabled","checked","to"],"sources":["C:/Users/User/Documents/lostnfound_fullstack/frontend/src/pages/public/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext'; // Crucial for calling login()\nimport './LoginPage.css'; // Import the dedicated CSS file\nimport UserIcon from '../../assets/user.png'; // Assuming you save the image here\n\nconst LoginPage = () => {\n    // State to manage form inputs\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [showPassword, setShowPassword] = useState(false);\n    const [error, setError] = useState('');\n\n    // Get login function and loading state from context\n    const { login, isLoading, user, role} = useAuth();\n    const navigate = useNavigate();\n\n    // Function to handle form submission and authentication\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        \n        if (!email || !password) {\n            setError('Please enter both email and password.');\n            return;\n        }\n\n        // Call the login function from AuthContext (which will handle the backend/simulation check)\n        // If login returns true (success), navigate. If it returns a string, it's an error message.\n        const result = await login(email, password); \n        \n        if (result === true) {\n             \n            if (role === 'admin') {\n                navigate('/admin', { replace: true });\n            } else {\n                navigate('/posts', { replace: true });\n            }\n        } else {\n            // FAILURE: result contains the error message string\n            setError(result);\n        }\n    };\n\n    return (\n        <div className=\"login-page-wrapper\">\n            <div className=\"login-form-container\">\n                \n                {/* 1. User Icon Logo */}\n                <div className=\"user-logo-container\">\n                    <img src={UserIcon} \n                         alt=\"User Icon\" \n                         className=\"user-logo-image\" />\n                </div>\n                \n                {/* 2. Header Text */}\n                <h1 className=\"login-header\">Login Portal</h1>\n                \n                {/* 3. Error Message Display */}\n                {error && <p className=\"login-error\">{error}</p>}\n\n                <form onSubmit={handleSubmit} className=\"login-form\">\n                    \n                    {/* Email Field */}\n                    <label htmlFor=\"email\" className=\"login-label\">Email</label>\n                    <input \n                        type=\"email\" \n                        id=\"email\" \n                        className=\"login-input\"\n                        placeholder=\"Your university or personal email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        required\n                        disabled={isLoading}\n                    />\n                    \n                    {/* Password Field */}\n                    <label htmlFor=\"password\" className=\"login-label\">Password</label>\n                    <input \n                        type={showPassword ? 'text' : 'password'} \n                        id=\"password\" \n                        className=\"login-input\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        required\n                        disabled={isLoading}\n                    />\n                    \n                    {/* Show Password Checkbox */}\n                    <div className=\"password-toggle\">\n                        <input \n                            type=\"checkbox\" \n                            id=\"showPassword\"\n                            checked={showPassword}\n                            onChange={() => setShowPassword(!showPassword)}\n                            disabled={isLoading}\n                        />\n                        <label htmlFor=\"showPassword\">Show Password</label>\n                    </div>\n\n                    {/* Log In Button */}\n                    <button \n                        type=\"submit\" \n                        className=\"login-button\"\n                        disabled={isLoading}\n                    >\n                        {isLoading ? 'Verifying...' : 'Log In'}\n                    </button>\n                </form>\n\n                {/* 4. Bottom Links Section */}\n                <div className=\"bottom-links-container\">\n                    {/* Left: Sign Up Link */}\n                    <p className=\"signup-link-text\">\n                        Not yet have an account? <Link to=\"/signup\" className=\"link-style\">Sign Up</Link>\n                    </p>\n                    \n                    {/* Right: Forgot Password Link */}\n                    <Link to=\"/forgot-password\" className=\"link-style forgot-password-link\">\n                        Forgot Password?\n                    </Link>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}