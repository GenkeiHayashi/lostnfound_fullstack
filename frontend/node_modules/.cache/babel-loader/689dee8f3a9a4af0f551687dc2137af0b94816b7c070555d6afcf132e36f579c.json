{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\lostnfound_fullstack\\\\frontend\\\\src\\\\pages\\\\user\\\\AllPosts.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport ItemDetailsModal from '../../components/items/ItemDetailsModal';\nimport './AllPosts.css'; // For layout and styling\n// Import axios for API calls\nimport axios from 'axios';\n// Import useAuth to get token and displayName\nimport { useAuth } from '../../context/AuthContext';\n\n// Utility function to format timestamp from Firestore\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatTimestamp = timestamp => {\n  // 1. Handle null, undefined, or N/A\n  if (!timestamp) {\n    return 'N/A';\n  }\n  let dateObject;\n\n  // 2. Check for Firebase Timestamp Object (Live Data)\n  if (typeof timestamp.toDate === 'function') {\n    // Data is a LIVE Firebase Timestamp object (e.g., if passed directly within the backend)\n    dateObject = timestamp.toDate();\n  }\n  // 3. Check for SERIALIZED Firebase Timestamp (Most common for API response)\n  else if (typeof timestamp === 'object' && timestamp._seconds) {\n    // Data is a plain JSON object like { _seconds: X, _nanoseconds: Y }\n    // Manually convert the seconds property to milliseconds for the Date constructor\n    dateObject = new Date(timestamp._seconds * 1000);\n  }\n  // 4. Check for Standard JavaScript Date object (Mock Data Fallback)\n  /*else if (timestamp instanceof Date) {\r\n      dateObject = timestamp;\r\n  }*/\n  // 5. If conversion was successful, format the date\n  else {\n    // If none of the above, return N/A\n    return 'N/A';\n  }\n\n  // Return the formatted date string\n  return dateObject.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n};\n\n// Item Categories (Used in the dropdown)\nconst CATEGORIES = ['Electronics', 'Stationery', 'Books', 'Clothing', 'Personal Items', 'Others'];\n\n// ðŸ›‘ BACKEND PLACEHOLDER: API URL\nconst ITEMS_API_URL = 'http://localhost:3000/api/items';\n\n// --- STATIC HEADER PLACEHOLDER with BACKEND LOGIC---\nconst StaticHeader = () => {\n  _s();\n  // ðŸ›‘ BACKEND PLACEHOLDER: Uncomment this line to get user data from context\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate(); // Add hook for navigation\n\n  // ðŸ›‘ BACKEND PLACEHOLDER: Replace \"TestUser\" with the user's actual display name\n  const username = (user === null || user === void 0 ? void 0 : user.displayName) || (user === null || user === void 0 ? void 0 : user.email.split('@')[0]) || \"User\";\n  // const username = \"TestUser\"; // MOCK USERNAME\n\n  // ðŸ›‘ BACKEND PLACEHOLDER: Replace a href with navigate(to) or use the actual logout function\n  const handleLogout = () => {\n    logout();\n    navigate('/login', {\n      replace: true\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"main-header\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/posts\",\n        className: \"header-logo-link\",\n        children: \"LostHub\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"header-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/report/lost\",\n          className: \"nav-link\",\n          children: \"Report Lost\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/report/found\",\n          className: \"nav-link\",\n          children: \"Report Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"welcome-message\",\n        children: [\"Welcome, \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 26\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: handleLogout,\n        className: \"logout-button-link\",\n        children: [\" \", \"Logout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n// -----------------------------------------------------------------\n_s(StaticHeader, \"owExUWFylk0vVlQUKU4QcBpCg7Y=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = StaticHeader;\nconst AllPosts = () => {\n  _s2();\n  const [statusFilter, setStatusFilter] = useState('lost'); // Default: Lost Item view\n  const [categoryFilter, setCategoryFilter] = useState('');\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null); // State for Modal\n\n  // ðŸ›‘ BACKEND PLACEHOLDER: Get token for API headers\n  const {\n    token\n  } = useAuth();\n\n  // BACKEND PLACEHOLDER: useEffect needs to be replaced with a real data fetch function\n  useEffect(() => {\n    // Function to fetch data from the API\n    const fetchItems = async () => {\n      setIsLoading(true);\n      console.log(\"Token being sent:\", token);\n      // ðŸ›‘ BACKEND PLACEHOLDER: Query parameters for the backend\n      const params = {\n        status: statusFilter,\n        category: categoryFilter || undefined\n      };\n      try {\n        // ðŸ›‘ BACKEND PLACEHOLDER: UNCOMMENT this block to use the backend\n        const response = await axios.get(ITEMS_API_URL, {\n          params,\n          headers: {\n            Authorization: `Bearer ${token}`\n          } // Send JWT token\n        });\n        setItems(response.data);\n      } catch (error) {\n        var _error$response, _error$response2;\n        console.error(\"Failed to fetch items:\", error);\n        // Redirect to login if token is invalid (401/403)\n        if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 || ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403) {\n          // navigate('/login', { replace: true }); // Uncomment if you want immediate redirect on bad token\n        }\n        setItems([]); // Clear items on failure\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    // ðŸ›‘ BACKEND PLACEHOLDER: Add token dependency when uncommenting API call\n    // ðŸ”‘ CHANGE 7: Add 'token' to the dependency array, ensuring data fetches whenever the token becomes available (after login)\n    // Also ensure fetchItems is only called if the token exists to prevent an immediate error.\n    if (token) {\n      fetchItems();\n    } else {\n      setIsLoading(false);\n    }\n  }, [statusFilter, categoryFilter, token]);\n  const handleItemClick = item => {\n    setSelectedItem(item);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-posts-page\",\n    children: [/*#__PURE__*/_jsxDEV(StaticHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"posts-main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"posts-control-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: categoryFilter,\n          onChange: e => setCategoryFilter(e.target.value),\n          className: \"category-dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), CATEGORIES.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat,\n            children: cat\n          }, cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 48\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-toggle-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStatusFilter('lost'),\n            className: `status-button ${statusFilter === 'lost' ? 'active-status' : ''}`,\n            children: \"Lost Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStatusFilter('found'),\n            className: `status-button ${statusFilter === 'found' ? 'active-status' : ''}`,\n            children: \"Found Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: \"Loading items from Firebase...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-grid-container\",\n        children: items.length > 0 ? items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-card\",\n          onClick: () => handleItemClick(item),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.imageUrl,\n            alt: item.name,\n            className: \"item-photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Reported: \", formatTimestamp(item.dateReported)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 37\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 33\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-items-message\",\n          children: [\"No \", statusFilter, \" items found in this category.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ItemDetailsModal, {\n      item: selectedItem,\n      onClose: () => setSelectedItem(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n_s2(AllPosts, \"oUzwUIh5LJEjAocSnO6gjsh/4VQ=\", false, function () {\n  return [useAuth];\n});\n_c2 = AllPosts;\nexport default AllPosts;\nvar _c, _c2;\n$RefreshReg$(_c, \"StaticHeader\");\n$RefreshReg$(_c2, \"AllPosts\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","ItemDetailsModal","axios","useAuth","jsxDEV","_jsxDEV","formatTimestamp","timestamp","dateObject","toDate","_seconds","Date","toLocaleDateString","year","month","day","CATEGORIES","ITEMS_API_URL","StaticHeader","_s","user","logout","navigate","username","displayName","email","split","handleLogout","replace","className","children","href","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","AllPosts","_s2","statusFilter","setStatusFilter","categoryFilter","setCategoryFilter","items","setItems","isLoading","setIsLoading","selectedItem","setSelectedItem","token","fetchItems","console","log","params","status","category","undefined","response","get","headers","Authorization","data","error","_error$response","_error$response2","handleItemClick","item","value","onChange","e","target","map","cat","length","src","imageUrl","alt","name","dateReported","id","onClose","_c2","$RefreshReg$"],"sources":["C:/Users/User/Documents/lostnfound_fullstack/frontend/src/pages/user/AllPosts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom'; \r\nimport ItemDetailsModal from '../../components/items/ItemDetailsModal';\r\nimport './AllPosts.css'; // For layout and styling\r\n// Import axios for API calls\r\nimport axios from 'axios'; \r\n// Import useAuth to get token and displayName\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\n// Utility function to format timestamp from Firestore\r\nconst formatTimestamp = (timestamp) => {\r\n    // 1. Handle null, undefined, or N/A\r\n    if (!timestamp) {\r\n        return 'N/A';\r\n    }\r\n\r\n    let dateObject;\r\n\r\n    // 2. Check for Firebase Timestamp Object (Live Data)\r\n    if (typeof timestamp.toDate === 'function') {\r\n        // Data is a LIVE Firebase Timestamp object (e.g., if passed directly within the backend)\r\n        dateObject = timestamp.toDate();\r\n\r\n    } \r\n    // 3. Check for SERIALIZED Firebase Timestamp (Most common for API response)\r\n    else if (typeof timestamp === 'object' && timestamp._seconds) {\r\n        // Data is a plain JSON object like { _seconds: X, _nanoseconds: Y }\r\n        // Manually convert the seconds property to milliseconds for the Date constructor\r\n        dateObject = new Date(timestamp._seconds * 1000); \r\n    }\r\n    // 4. Check for Standard JavaScript Date object (Mock Data Fallback)\r\n    /*else if (timestamp instanceof Date) {\r\n        dateObject = timestamp;\r\n    }*/\r\n    // 5. If conversion was successful, format the date\r\n    else {\r\n        // If none of the above, return N/A\r\n        return 'N/A';\r\n    }\r\n\r\n    // Return the formatted date string\r\n    return dateObject.toLocaleDateString('en-US', { \r\n        year: 'numeric', \r\n        month: 'short', \r\n        day: 'numeric' \r\n    });\r\n};\r\n\r\n// Item Categories (Used in the dropdown)\r\nconst CATEGORIES = ['Electronics', 'Stationery', 'Books', 'Clothing', 'Personal Items', 'Others'];\r\n\r\n// ðŸ›‘ BACKEND PLACEHOLDER: API URL\r\nconst ITEMS_API_URL = 'http://localhost:3000/api/items';\r\n\r\n// --- STATIC HEADER PLACEHOLDER with BACKEND LOGIC---\r\nconst StaticHeader = () => {\r\n    // ðŸ›‘ BACKEND PLACEHOLDER: Uncomment this line to get user data from context\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate(); // Add hook for navigation\r\n\r\n    // ðŸ›‘ BACKEND PLACEHOLDER: Replace \"TestUser\" with the user's actual display name\r\n    const username = user?.displayName || user?.email.split('@')[0] || \"User\"; \r\n    // const username = \"TestUser\"; // MOCK USERNAME\r\n\r\n    // ðŸ›‘ BACKEND PLACEHOLDER: Replace a href with navigate(to) or use the actual logout function\r\n    const handleLogout = () => {\r\n        logout(); \r\n        navigate('/login', { replace: true });\r\n    };\r\n\r\n    return (\r\n    <header className=\"main-header\"> {/* Use a common class for the header container */}\r\n        \r\n        {/* Left Section: Logo and Navigation Links */}\r\n        <div className=\"header-left\">\r\n            <a href=\"/posts\" className=\"header-logo-link\">LostHub</a>\r\n            \r\n            <nav className=\"header-nav\">\r\n                <a href=\"/report/lost\" className=\"nav-link\">Report Lost</a>\r\n                <a href=\"/report/found\" className=\"nav-link\">Report Found</a>\r\n            </nav>\r\n        </div>\r\n\r\n        {/* Right Section: Welcome Message and Logout */}\r\n        <div className=\"header-right\">\r\n            <span className=\"welcome-message\">\r\n                Welcome, <strong>{username}</strong> {/* Uses actual username */}\r\n            </span>\r\n            <a href=\"#\" onClick={handleLogout} className=\"logout-button-link\"> {/* Use onClick and remove hardcoded href */}\r\n                Logout\r\n            </a>\r\n        </div>\r\n    </header>\r\n    );\r\n};\r\n// -----------------------------------------------------------------\r\n\r\nconst AllPosts = () => {\r\n    const [statusFilter, setStatusFilter] = useState('lost'); // Default: Lost Item view\r\n    const [categoryFilter, setCategoryFilter] = useState(''); \r\n    const [items, setItems] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [selectedItem, setSelectedItem] = useState(null); // State for Modal\r\n\r\n    // ðŸ›‘ BACKEND PLACEHOLDER: Get token for API headers\r\n    const { token } = useAuth();\r\n\r\n    // BACKEND PLACEHOLDER: useEffect needs to be replaced with a real data fetch function\r\n    useEffect(() => {\r\n        // Function to fetch data from the API\r\n        const fetchItems = async () => {\r\n        setIsLoading(true);\r\n        console.log(\"Token being sent:\", token);\r\n        // ðŸ›‘ BACKEND PLACEHOLDER: Query parameters for the backend\r\n            const params = {\r\n                status: statusFilter,\r\n                category: categoryFilter || undefined,\r\n            };\r\n\r\n            try {\r\n                // ðŸ›‘ BACKEND PLACEHOLDER: UNCOMMENT this block to use the backend\r\n                const response = await axios.get(ITEMS_API_URL, {\r\n                    params,\r\n                    headers: { Authorization: `Bearer ${token}` } // Send JWT token\r\n                });\r\n                setItems(response.data); \r\n\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch items:\", error);\r\n                // Redirect to login if token is invalid (401/403)\r\n                if (error.response?.status === 401 || error.response?.status === 403) {\r\n                     // navigate('/login', { replace: true }); // Uncomment if you want immediate redirect on bad token\r\n                }\r\n                setItems([]); // Clear items on failure\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n\r\n        };\r\n    // ðŸ›‘ BACKEND PLACEHOLDER: Add token dependency when uncommenting API call\r\n    // ðŸ”‘ CHANGE 7: Add 'token' to the dependency array, ensuring data fetches whenever the token becomes available (after login)\r\n        // Also ensure fetchItems is only called if the token exists to prevent an immediate error.\r\n        if (token) {\r\n            fetchItems(); \r\n        } else {\r\n        setIsLoading(false);\r\n        } \r\n    }, [statusFilter, categoryFilter, token ]);\r\n\r\n    const handleItemClick = (item) => {\r\n        setSelectedItem(item);\r\n    };\r\n\r\n    return (\r\n        <div className=\"all-posts-page\">\r\n            <StaticHeader /> \r\n            \r\n            <main className=\"posts-main-content\">\r\n                \r\n                {/* Top Control Bar: Filters */}\r\n                <div className=\"posts-control-bar\">\r\n                    \r\n                    {/* 1. Category Dropdown */}\r\n                    <select \r\n                        value={categoryFilter} \r\n                        onChange={(e) => setCategoryFilter(e.target.value)} \r\n                        className=\"category-dropdown\"\r\n                    >\r\n                        <option value=\"\">All Categories</option>\r\n                        {CATEGORIES.map(cat => <option key={cat} value={cat}>{cat}</option>)}\r\n                    </select>\r\n\r\n                    {/* 2. Status Toggle Buttons */}\r\n                    <div className=\"status-toggle-group\">\r\n                        <button \r\n                            onClick={() => setStatusFilter('lost')}\r\n                            className={`status-button ${statusFilter === 'lost' ? 'active-status' : ''}`}\r\n                        >\r\n                            Lost Item\r\n                        </button>\r\n                        <button \r\n                            onClick={() => setStatusFilter('found')}\r\n                            className={`status-button ${statusFilter === 'found' ? 'active-status' : ''}`}\r\n                        >\r\n                            Found Item\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Item Grid */}\r\n                {isLoading ? (\r\n                    <div className=\"loading-state\">Loading items from Firebase...</div>\r\n                ) : (\r\n                    <div className=\"item-grid-container\">\r\n                        {items.length > 0 ? (\r\n                            items.map(item => (\r\n                                <div key={item.id} className=\"item-card\" onClick={() => handleItemClick(item)}>\r\n                                    <img \r\n                                        src={item.imageUrl} \r\n                                        alt={item.name} \r\n                                        className=\"item-photo\"\r\n                                    />\r\n                                    <div className=\"item-info\">\r\n                                        <h3>{item.name}</h3>\r\n                                        <p>Reported: {formatTimestamp(item.dateReported)}</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <p className=\"no-items-message\">No {statusFilter} items found in this category.</p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </main>\r\n\r\n            {/* Item Details Modal */}\r\n            <ItemDetailsModal item={selectedItem} onClose={() => setSelectedItem(null)} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllPosts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}